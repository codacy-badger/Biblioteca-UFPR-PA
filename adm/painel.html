<!DOCTYPE html>
<html lang='pt-br'>

<!--
    - Felipe Vieira Sobral
    - xfelipesobral@gmail.com
    - felipesobral@ufpr.br
    - https://felipesobral.xyz
    - https://github.com/krepper/Biblioteca-UFPR-PA/
-->

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Biblioteca UFPR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  <style>
    header,
    main,
    footer,
    body {
      padding-left: 300px;
    }

    .carregando {
      padding-top: 35vh;
      padding-right: 300px;
    }

    .cab {
      -webkit-box-shadow: 0px 4px 19px -6px rgba(0, 0, 0, 0.75);
      -moz-box-shadow: 0px 4px 19px -6px rgba(0, 0, 0, 0.75);
      box-shadow: 0px 4px 19px -6px rgba(0, 0, 0, 0.75);
    }

    @media only screen and (max-width: 992px) {
      header,
      main,
      footer,
      body {
        padding-left: 0;
      }
      .carregando {
        padding-right: 0;
      }
    }
  </style>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

</head>

<body style="background-image: url('../img/bg_teste.jpg'); background-attachment: fixed;">

  <div id="carregando" class="carregando">
    <center>
      <div class="progress">
        <div class="indeterminate"></div>
      </div>
      <h1 class="display-4">Verificando seu usuário...</h1>
    </center>
  </div>

  <div id="passou">

    <ul id="slide-out" class="sidenav sidenav-fixed">
      <p id="menuID">Aguarde...</p>
    </ul>

    <div class="jumbotron jumbotron-fluid cab text-light" style="background-image: url('../img/bg.jpg'); background-attachment: fixed;">
      <div class="container">
        <a href="#" data-target="slide-out" class="sidenav-trigger waves-effect waves-light"><i class="material-icons" style="color: #fff;">menu</i></a>
        <center>
          <h1 class="display-4">Administrativo</h1></center>
      </div>
    </div>
    <div class="container">
      <div class="card">
        <div class="card-body">

          <ul class="collapsible">
            <li>
              <div class="collapsible-header" style='outline: 0;'><i class="material-icons">add</i>Criar novo usuário</div>
              <div class="collapsible-body">
                <h4 style="text-align: center">Criar novo usuário</h4>
                <div class="row">
                  <form class="col s12" id="registrarForm">
                    <div class="row">
                      <div class="input-field col s6">
                        <input id="r_usuario" maxlength="10" type="text"></input>
                        <label for="r_usuario">Usuário</label>
                        <span class="helper-text">Máximo 10 caracteres.</span>
                      </div>
                      <div class="input-field col s6">
                        <input id="r_nome" maxlength="60" type="text"></input>
                        <label for="r_nome">Nome</label>
                        <span class="helper-text">Máximo 60 caracteres.</span>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s6">
                        <input id="r_senha" maxlength="10" type="password"></input>
                        <label for="r_senha">Senha</label>
                        <span class="helper-text">Máximo 10 caracteres.</span>
                      </div>
                      <div class="input-field col s6">
                        <select id="r_nivel">
                          <option selected disabled>Nível do usuário</option>
                          <option value="1">Registrado</option>
                          <option value="2">Provisório</option>
                          <option value="3">Comum</option>
                          <option value="4">Moderador</option>
                          <option value="5">Administrador</option>
                        </select>
                      </div>
                    </div>

                    <center><button class="btn waves-effect waves-light" type="submit">Registrar</button></center>
                  </form>
                </div>

              </div>
            </li>

            <li>
              <div class="collapsible-header" style='outline: 0;'><i class="material-icons">edit</i>Alterar usuário</div>
              <div class="collapsible-body">
                <form id="alterarUsuarioForm1">
                  <div class="input-field">
                    <input id="alterarUser_usuario" maxlength="10" type="text"></input>
                    <label for="alterarUser_usuario">Usuário</label>
                  </div>
                  <center><button class="btn waves-effect waves-light" type="submit">Buscar usuário</button></center>
                </form>

                <div id="alterarUsuario" style="display: none">
                  <hr/>
                  <div class="row">
                    <form class="col s12" id="alterarUsuarioForm2">
                      <p id='formularioAlterarAqui'></p>

                      <div class='row'>
                        <div class='input-field col s6'>
                          <input id='alterarUser_senha' placeholder='Senha' maxlength='10' type='password'></input>
                          <span class='helper-text'>Senha|Máximo 10 caracteres.</span>
                        </div>
                        <div class='input-field col s6'>
                          <select id='alterarUser_nivel'>
                            <option selected disabled>Nível do usuário</option>
                            <option value='1'>[1] Registrado</option>
                            <option value='2'>[2] Provisório</option>
                            <option value='3'>[3] Comum</option>
                            <option value='4'>[4] Moderador</option>
                            <option value='5'>[5] Administrador</option>
                          </select>
                          <span class='helper-text'>Nível atual: <a id='nivelUsuario'></a></span>
                        </div>
                      </div>

                      <div class='input-field'>
                        <select id='alterarUser_alterar'>
                          <option selected disabled>O que fazer?</option>
                          <option value='1'>Apenas alterar</option>
                          <option value='2'>Excluir conta</option>
                        </select>
                      </div>
                      <center><button class="btn waves-effect waves-light" type="submit">Fazer alterações</button></center>
                    </form>
                  </div>
                </div>
            </li>
            <li>
              <div class="collapsible-header" style='outline: 0;'><i class="material-icons">people</i>Usuários registrados</div>
              <div class="collapsible-body">
                <center><button disabled class="btn waves-effect">Verificar</button>
                  <a id="usuariosRegistrados" style="display: none"></a>
                  <p>Função não disponível no momento :(</p>
                </center>
              </div>
            </li>
          </ul>

          </div>
        </div>
      </div>

    </div>

    <!-- SCRIPTS -->
    <script>
      $('#passou').hide();

      $(document).ready(function() {
        $.ajax({
          url: "../verificar.php",
          type: "post",
          data: "executarFuncao=" + 6 + "&nivel=" + 5,
          success: function(result) {
            if (result == true) {
              document.getElementById("carregando").style.display = "none";
              document.getElementById("passou").style.display = "block";
            } else {
              window.location = '../error.html';
            }
          }
        })
      })
    </script>
    <script src="main.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>


</body>

</html>